<!-- app/views/voters/index.html.erb -->

<div class="content">
  <div class="header">
    <h1>Voters List</h1>
    <p>This is your application's home page or dashboard.</p>
    <!-- Add more content as needed -->
  </div>
</div>

<div class="filter-container">
  <%= form_tag voter_index_path, method: :get, class: 'form-inline mb-3' do %>
    <%= label_tag 'gender_filter', 'Filter by Gender:' %>
    <%= select_tag 'gender_filter', options_for_select(['All', 'Male', 'Female'], params[:gender_filter]), class: 'form-control' %>
    <%= submit_tag 'Apply Filter', class: 'btn btn-primary ml-2' %>
    <%= link_to 'Clear Filter', voter_index_path, class: 'btn btn-secondary ml-2' %>
  <% end %>
</div>

<table class="table voter-list-table">
  <thead class= "table-head">
    <tr class = "table-row">
      <th>CNIC</th>
      <th>KID</th>
      <th>Name</th>
      <th>Father Name</th>
      <th>Age</th>
      <th>Gender</th>
      <th>Date of Birth</th>
      <th>Voter Status</th>
      <th colspan="3"> Actions</th>
    </tr>
  </thead>

  <tbody class= "table-body">
    <% @voters.each do |voter| %>
      <tr class = "table-row">
        <td class= "table-data"><%= voter.cnic %></td>
        <td class= "table-data" ><%= voter.kid %></td>
        <td class= "table-data" ><%= voter.name %></td>
        <td class= "table-data" ><%= voter.father_name %></td>
        <td class= "table-data" ><%= voter.age %></td>
        <td class= "table-data" ><%= voter.cnic.to_i.even? ? "Female" : "Male" %></td>
        <td class= "table-data" ><%= voter.date_of_birth %></td>
        <td class= "table-data" ><%= voter.voter_status %></td>
        <td class= "table-data" ><%= link_to 'Show', voter %></td>
        <td class= "table-data" ><%= link_to 'Edit', edit_voter_path(voter) %></td>
        <td class= "table-data" ><%= link_to 'Destroy', voter, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
