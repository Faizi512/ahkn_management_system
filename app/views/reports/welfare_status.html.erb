<div class="dashboard-container">
  <%= render partial: 'shared/sidebar_menu' %>
  <div class="content">
    <%= render partial: 'shared/header' %>
    
    <div class="reports-container">
      <div class="report-header">
        <h1 class="reports-title"><i class="fa fa-heart"></i> Welfare Fund Status Report</h1>
        <%= link_to "â† Back to Reports", reports_path, class: "back-link" %>
      </div>

      <div class="report-table-container">
        <table class="report-table">
          <thead>
            <tr>
              <th>#</th>
              <th>W/F Upto</th>
              <th>Total Members</th>
              <th>Tokens Printed</th>
              <th>Pending</th>
              <th>Attendance %</th>
              <th>Progress</th>
            </tr>
          </thead>
          <tbody>
            <% @welfare_data.each_with_index do |item, index| %>
              <tr>
                <td><%= index + 1 %></td>
                <td><strong><%= item.wf_upto.presence || "Not Specified" %></strong></td>
                <td><%= item.total %></td>
                <td class="text-success"><%= item.printed_count %></td>
                <td class="text-warning"><%= item.total - item.printed_count %></td>
                <td><%= item.total > 0 ? ((item.printed_count.to_f / item.total) * 100).round(1) : 0 %>%</td>
                <td>
                  <div class="mini-progress">
                    <div class="mini-progress-fill" style="width: <%= item.total > 0 ? ((item.printed_count.to_f / item.total) * 100) : 0 %>%"></div>
                  </div>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>

        <% if @welfare_data.empty? %>
          <div class="no-data">No welfare fund data available.</div>
        <% end %>
      </div>
    </div>
  </div>
</div>

